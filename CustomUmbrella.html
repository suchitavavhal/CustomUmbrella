<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Custom Umbrella</title>
    <link rel="stylesheet" href="/CustomUmbrella.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"
    />
  </head>
  <body>
    <div class="container d-flex mt-5 justify-content-center bcg">
      <div class="loader">
        <div class="loading"></div>
      </div>
      
      <div style="height: 400px; width: 400px" id="umbrellaImg">
      
        <img
          src="Blue umbrella.png"
          alt="Blue Umbrella"
          height="300px"
          width="300px"
          class="mt-5 ms-4"
        />
        <!-- <img src="#" id="imgshow" height="20px" > -->
      </div>
      <div style="height: 400px; width: 400px" class="fontColor">
        <h2 class="h2Margin">Custom Umbrella</h2>

        <button
          class="round round-blue"
          style="margin-left: 3rem"
          onclick="chooseUmbrella('Blue')"
        ></button>
        <button
          class="round round-pink"
          style="margin-left: 0.5rem"
          onclick="chooseUmbrella('Pink')"
        ></button>
        <button
          class="round round-yellow"
          style="margin-left: 0.5rem"
          onclick="chooseUmbrella('Yellow')"
        ></button>
        <p class="marginLeft marginTop marginBottom fw-bold fs-6">
          Customize your umbrella
        </p>
        <p class="marginLeft marginBottom fs-6">
          Upload a logo for an instant preview.
        </p>
        <p class="marginLeft fs-6">
          <small>.png and .jpg files only. Max file size is 5MB.</small>
        </p>

        <!-- <input type="file"  id="upload-l ogo" > -->
        <!-- <input type="file" class="marginLeft fs-6" id="actual-btn"/> -->
        <input type="file" id="actual-btn"  onchange="uploadLogo()" hidden/>

        <label for="actual-btn" class="marginLeft"
          ><span class="material-symbols-outlined fs-6 me-3"> upload </span
          >Upload Logo</label
        >
      </div>
    </div>
    <script>
      // function spinner() {
      //     document.getElementsByClassName("loader")[0].style.display = "block";

      //     setTimeout( function(){},3000);

      // }
      var img = document.getElementById("umbrellaImg");
      function uploadLogo(){
        var logo = document.getElementById("actual-btn");

        if(logo.files && logo.files[0]){
          var reader = new FileReader();
          const imgLogo = document.createElement("img");
          reader.onload= function(e){
            imgLogo.setAttribute("src", e.target.result);
            imgLogo.setAttribute("class", "imgShow");
            img.appendChild(imgLogo);
            // document.getElementById('imgshow').setAttribute("width", "3rem");
            // document.getElementById('imgshow').setAttribute("left", "15rem");
            // document.getElementById('imgshow').setAttribute("top", "29rem");
          }
          reader.readAsDataURL(logo.files[0]);
        }
      }

      function chooseUmbrella(umbrella) {
        
          while (img.firstChild) {
            img.removeChild(img.firstChild);
          }
        document.getElementsByClassName("loader")[0].style.display = "block";
        setTimeout(function () {
          
          const elem = document.createElement("img");

          switch (umbrella) {
            case "Yellow":
              elem.setAttribute("src", "Yello umbrella.png");
              elem.setAttribute("height", "300px");
              elem.setAttribute("width", "300px");
              elem.className = "mt-5 ms-4";
              document.getElementsByClassName("loader")[0].style.display = "none";
              img.appendChild(elem);
              uploadLogo();
              break;
            case "Pink":
              elem.setAttribute("src", "Pink umbrella.png");
              elem.setAttribute("height", "300px");
              elem.setAttribute("width", "300px");
              elem.className = "mt-5 ms-4";
              document.getElementsByClassName("loader")[0].style.display = "none";
              img.appendChild(elem);
              uploadLogo();
              break;
            case "Blue":
            default:
              elem.setAttribute("src", "Blue umbrella.png");
              elem.setAttribute("height", "300px");
              elem.setAttribute("width", "300px");
              elem.className = "mt-5 ms-4";
              document.getElementsByClassName("loader")[0].style.display = "none";
              img.appendChild(elem);
              uploadLogo();
          }
        }, 1000);
      }
    </script>
  </body>
</html>
